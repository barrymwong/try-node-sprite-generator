{
  "name": "node-sprite-generator",
  "version": "0.3.0",
  "description": "Generates image sprites and their spritesheets (css, stylus, sass or less) from sets of images.",
  "main": "lib/nsg.js",
  "dependencies": {
    "async": "0.2.9",
    "glob": "3.2.6",
    "underscore": "1.5.2",
    "canvas": "1.1.1",
    "gm": "1.13.1"
  },
  "optionalDependencies": {
    "canvas": "1.1.1",
    "gm": "1.13.1"
  },
  "devDependencies": {
    "chai": "1.8.1",
    "grunt": "0.4.1",
    "grunt-cli": "0.1.9",
    "grunt-contrib-jshint": "0.6.4",
    "grunt-mocha-test": "0.7.0",
    "sinon": "1.7.3",
    "sinon-chai": "2.4.0"
  },
  "scripts": {
    "test": "grunt"
  },
  "keywords": [
    "sprite",
    "sprites",
    "generator",
    "middleware",
    "css",
    "stylus"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/selaux/node-sprite-generator"
  },
  "license": "MIT",
  "readme": "# node-sprite-generator\n\n[![Build Status](https://travis-ci.org/selaux/node-sprite-generator.png)](https://travis-ci.org/selaux/node-sprite-generator)\n[![Build Status](https://david-dm.org/selaux/node-sprite-generator.png)](https://david-dm.org/selaux/node-sprite-generator)\n\nGenerates image sprites and their spritesheets (css, stylus, sass or less) from sets of images. Supports retina sprites.\n\n## Installation\n\n```bash\nnpm install node-sprite-generator\n```\n\nNote: \nnode-sprite-generator has two dependencies of which one is required. node-sprite-generator will try to figure out which one is installed and use it.\n\n- __Cairo__ needs to be installed when using the `'canvas'` compositor because [node-canvas](https://github.com/LearnBoost/node-canvas) depends on it. For more information how to do this on your system go to the [node-canvas page](https://github.com/LearnBoost/node-canvas/wiki/_pages).\n- ImageMagick/GraphicsMagick needs to be installed when using the `'gm'` compositor\n\n## Usage\n\n### Standalone\n\n```javascript\nvar nsg = require('node-sprite-generator');\n\nnsg({\n    src: [\n        'images/sprite/*.png'\n    ],\n    spritePath: 'images/sprite.png',\n    stylesheetPath: 'stylus/sprite.styl'\n}, function (err) {\n    console.log('Sprite generated!');\n});\n```\n\nThis will generate a sprite.png file and the corresponding stylus stylesheet, with can then be included from your stylus files.\n\n### With express.js\n\nnode-sprite-generator provides a middleware to use with [express.js](https://github.com/visionmedia/express).\n\n```javascript\nvar nsg = require('node-sprite-generator'),\n    express = require('express'),\n    app = express();\n    \napp.use(nsg.middleware({\n    src: [\n        'images/sprite/*.png'\n    ],\n    spritePath: 'images/sprite.png',\n    stylesheetPath: 'stylus/sprite.styl'\n}));\n```\n\nMake sure that the node-sprite-generator middleware is used before any css preprocessors that use the generated stylesheet.\n\n### With grunt\n\nnode-sprite-generator also provides a grunt plugin. It takes the same options as the other two methods.\n\n```javascript\nmodule.exports = function (grunt)  {\n\n    grunt.initConfig({\n\n        spriteGenerator: {\n            sprite: {\n                src: [\n                    'images/sprite/*.png'\n                ],\n                spritePath: 'images/sprite.png',\n                stylesheetPath: 'stylus/sprite.styl'\n            }\n        }\n\n    });\n\n    grunt.loadNpmTasks('node-sprite-generator');\n};\n```\n\n## Options\n\nnode-sprite-generator tries to be very modular, so you can use the options we provide or write your own functions/modules to further customize your sprites.\n\n#### options.src\nType: `String`\nDefault value: `[]`  \nSpecifies the images that will be combined to the sprite. node-sprite-generator uses glob pattern matching, so paths with wildcards are valid as well.\n\n#### options.spritePath\nType: `String`\nDefault value: `''`  \nThe path your image sprite will be written to. ATM we only support the PNG format for the image sprite.\n\n#### options.stylesheetPath\nType: `String`\nDefault value: `''`  \nThe path your stylesheet will be written to.\n\n#### options.stylesheet\nType: `String|Function`\nDefault value: `'stylus'`  \nSpecifies the stylesheet generator (and therefore the format) that is used. The built-in formats are `'stylus'`, `'less'` and `'css'`. You can also specify a function that writes a custom stylesheet (see more at [extending node-sprite-generator](https://github.com/selaux/node-sprite-generator#extending-node-sprite-generator)).\n\n#### options.stylesheetOptions\nType: `Object`\nDefault value: `'{}'`  \nOptions that will be passed on to the stylesheet generator. The built-in stylesheet generators support the following options:  \n__prefix__ (Type: `String` Default: `''`): A prefix that will be prepended to all classes/functions that are generated  \n__nameMapping__ (Type: `Function` Default: Filename): A function that specifies how filenames are mapped to class names in the stylesheet  \n__spritePath__ (Type: `String` Default: Relative Path): Defines which URL is used as the image path for the image sprite.  \n__pixelRatio__ (Type: `Integer` Default: `1`): Specifies the pixelRatio for retina sprites  \n\n#### options.layout\nType: `String|Function`\nDefault value: `'vertical'`  \nThe layout that is used to generate the sprite. The built-in layouts are `'vertical'`, `'horizontal'` and `'diagonal'`. You can also specify a function that generates a custom layout  (see more at [extending node-sprite-generator](https://github.com/selaux/node-sprite-generator#extending-node-sprite-generator)).\n\n#### options.layoutOptions\nType: `Object`\nDefault value: `{}`  \nOptions that will be passed on to the layout generation. The built-in layouters support the following options.  \n__padding__ (Type: `Integer` Default: `0`): Specifies the padding between the images in the layout.  \n\n#### options.compositor\nType: `String|Function`\nDefault value: `'canvas'`  \nThe compositor is used to read and render the images. Built-in compositors are `'canvas'` and `'gm'`. Depending on what you choose you either need libcairo (canvas) or GraphicsMagick/ImageMagick installed. You can also specify your own module that implements this functionality. Have a look at [extending node-sprite-generator](https://github.com/selaux/node-sprite-generator#extending-node-sprite-generator) to see how it's done.\n\n#### options.compositorOptions\nType: `Object`\nDefault value: `{}`  \nOptions that will be passed on to the compositor. The built-in compositor supports the following options:\n__compressionLevel__ (Type: `Integer` Default: `6`): Specifies the compression level for the generated png file (compression levels range from 0-9).\n\n## A more advanced example\n\n```javascript\nvar nsg = require('node-sprite-generator');\n\nnsg({\n    src: [\n        'public/images/sprite/*.png'\n    ],\n    spritePath: 'public/images/all-icons.png',\n    stylesheetPath: 'public/stylesheets/all-icons.css',\n    layout: 'diagonal',\n    layoutOptions: {\n        padding: 30\n    },\n    stylesheet: 'css',\n    stylesheetOptions: {\n        prefix: 'all-icons',\n        spritePath: 'http://static.your-server.org/images/all-icons.png',\n        pixelRatio: 2\n    }\n});\n```\n\nThis will generate a diagonally layouted retina-enabled sprite that can be accessed using classes like ```all-icons-home```. The sprite will then be loaded from your static asset server.\n\n## Extending node-sprite-generator\n\nThe internal pipeline for node-sprite-generator is\n\n - ```compositor.readImages(files, callback)``` -> ```callback(error, images)```\n - ```layout(images, options, callback)``` -> ```callback(error, layout)```\n - ```compositor.render(layout, spritePath, options, callback)``` -> ```callback(error)```\n - ```stylesheet(layout, stylesheetPath, spritePath, options, callback)``` -> ```callback(error)```\n\nThe used data formats are:\n\n#### images\n```\nvar images = [\n   {\n       width: Integer,\n       height: Integer,\n       data: compositor-specific\n   }\n]\n```\n\n#### layout\n```\nvar layout = {\n    width: Integer,\n    height: Integer,\n    images: [\n        {\n            x: Integer,\n            y: Integer,\n            width: Integer,\n            height: Integer,\n            data: compositor-specific\n        }\n    ]\n}\n```\n\nFor more information of how to write your own modules/functions have a look at the existing ones :-D.\n\n## Changelog\n\n#### 0.3.0\n- adds sass support\n- adds less support\n\n#### 0.2.1\n- fixes default options leaking into options objects\n- replaces occurences of \"0px\" in stylesheets with \"0\"\n\n#### 0.2.0\n- adds gm compositor to provide an alternative where node-canvas cannot be installed \n- adds pixelRatio stylesheet option to allow to downscale sprites for retina displays\n- adds compressionLevel compositor option to allow to set the image quality for the generated sprite image\n\n#### 0.1.0\n- Initial Release\n\n## License\n\n(The MIT License)\n\nCopyright (c) 2013 Stefan Lau <github@stefanlau.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the 'Software'), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/selaux/node-sprite-generator/issues"
  },
  "homepage": "https://github.com/selaux/node-sprite-generator",
  "_id": "node-sprite-generator@0.3.0",
  "_from": "node-sprite-generator@"
}
